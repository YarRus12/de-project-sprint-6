# Проект 6-го спринта

### Описание
Репозиторий предназначен для сдачи проекта 6-го спринта.

Проект предусматривает построение ETL-процесса для витрины с группами в социальной сети, в которых начала общаться большая часть их участников - паблики с высокой конверсией в первое сообщение.
Источник данных - объектное хранилище S3.
Данные сохраняются в stage, далее заливаются в dds-слой, созданный по модели DataVault

### Структура репозитория
Внутри `src` расположены две папки:
- `/src/dags`;
- `/src/sql`.

### Шаги/ход исследования
- Создан ДАГ get_data.py получающий данные из объектного хранилища S3 и сохраняющий их на операционную систему
  Загружаются данные о пользователях, группах, диалогах и действиях пользователей в группах
- Подготовлен ДАГ load_to_stage.py, проверяющий наличие таблиц в stage. Проверка весьма условная, так как выполняется
  SQL скрипт создания таблиц с оператором IF NOT EXISTS
  После удачной проверки, производится загрузка данных в stage копированием в таблицу сохранненного равнее файла из S3
- Подготовлен ДАГ load_to_dds.py. ДАГ загружает данные в таблиц-хабы, таблицы-линки и таблицы-саттелиты DataVault
  Перед загрузкой данных в таблицы каждого вида выполняется проверка SQL скритом через оператор IF NOT EXISTS

### Инструменты
Python, Vertica, Airflow, DataVault

### Выводы
Подготовленные ДАГи формируют DataVault с данными о пользователях, группах и диалогах
